sap.ui.define(["sap/ui/core/mvc/Controller","com/sadara/Services/util/formatter"],function(e,t){"use strict";return e.extend("com.sadara.Services.controller.ServiceProviderDetail",{formatter:t,onInit:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.getRoute("ServiceProviderDetail").attachMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){var t=this;this.oArgs=e.getParameter("arguments").ProviderId;var r=this.getOwnerComponent().getModel("SproviderModel");r.read("/SERVICEPROVIDERMASTER("+this.oArgs+")",{success:function(e){var r=new sap.ui.model.json.JSONModel;r.setData(e);t.getView().setModel(r,"localModel")},error:function(){}});var i=new sap.ui.model.Filter("SERVICEPROVIDER_ID",sap.ui.model.FilterOperator.EQ,this.oArgs);this.getView().byId("serviceproviderdetail").getBinding("items").filter(i)},handleClose:function(){var e=this.getOwnerComponent().getRouter();e.navTo("ServiceProvider")},onSearch:function(){if(this.getView().byId("searchservice").getValue().length>0){var e=new sap.ui.model.Filter("tolower(SERVICE_NAME)",sap.ui.model.FilterOperator.Contains,"tolower('"+this.getView().byId("searchservice").getValue()+"')");var t=new sap.ui.model.Filter("SERVICEPROVIDER_ID",sap.ui.model.FilterOperator.EQ,this.oArgs);var r=new sap.ui.model.Filter({filters:[e,t],and:true});this.getView().byId("serviceproviderdetail").getBinding("items").filter(r)}else{var e=new sap.ui.model.Filter("SERVICEPROVIDER_ID",sap.ui.model.FilterOperator.EQ,this.oArgs);this.getView().byId("serviceproviderdetail").getBinding("items").filter(e)}}})});