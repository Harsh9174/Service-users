sap.ui.define(["sap/ui/core/mvc/Controller","com/sadara/Services/util/formatter"],function(e,t){"use strict";return e.extend("com.sadara.Services.controller.ServicesDetail",{formatter:t,onInit:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.getRoute("ServicesDetail").attachMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){var t=this;this.oArgs=e.getParameter("arguments").Services;var r=this.getOwnerComponent().getModel("SproviderModel");r.read("/SERVICESMASTER("+this.oArgs+")",{success:function(e){var r=new sap.ui.model.json.JSONModel;r.setData(e);t.getView().setModel(r,"localModel")},error:function(){}});var i=new sap.ui.model.Filter("SERVICE_ID",sap.ui.model.FilterOperator.EQ,this.oArgs);this.getView().byId("serviceprovider").getBinding("items").filter(i)},handleClose:function(){var e=this.getOwnerComponent().getRouter();e.navTo("Services")},onSearch:function(){if(this.getView().byId("searchprovider").getValue().length>0){var e=new sap.ui.model.Filter("tolower(SERVICEPROVIDER_NAME)",sap.ui.model.FilterOperator.Contains,"tolower('"+this.getView().byId("searchprovider").getValue()+"')");var t=new sap.ui.model.Filter("SERVICE_ID",sap.ui.model.FilterOperator.EQ,this.oArgs);var r=new sap.ui.model.Filter({filters:[e,t],and:true});this.getView().byId("serviceprovider").getBinding("items").filter(r)}else{var e=new sap.ui.model.Filter("SERVICE_ID",sap.ui.model.FilterOperator.EQ,this.oArgs);this.getView().byId("serviceprovider").getBinding("items").filter(e)}}})});